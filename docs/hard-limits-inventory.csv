id,component,category,scope,current_value,unit,risk_class,replacement_behavior,rationale,source_file
api.scheduler.min_interval_minutes,workers/api,scheduler,daily collection cadence,0,minutes,continuation_throttle,Hourly cron keeps attempting the current Melbourne collection date until lender-dataset completion is achieved.,Forward completeness must not depend on a 24-hour cooldown gate.,workers/api/src/constants.ts
api.queue.consumer.max_batch_size,workers/api,queue,queue consumer batch,50,messages,continuation_throttle,Continue processing remaining tasks in later queue batches without dropping scope.,Operational batch sizing is acceptable when the backlog is retained and retried.,workers/api/wrangler.toml
api.queue.max_attempts_default,workers/api,queue,retry policy,3,attempts,continuation_throttle,"Failures are recorded, retried with backoff, and surfaced in run/fetch diagnostics instead of disappearing silently.",Retries may be bounded if failures remain observable and re-runnable.,workers/api/src/constants.ts
api.queue.retry_backoff_seconds_cap,workers/api,queue,retry pacing,900,seconds,continuation_throttle,Backoff delays retries but never truncates the task graph.,Pacing is safe when retries remain durable.,workers/api/src/queue/consumer.ts
api.ingest.max_products_per_lender_clamp,workers/api,ingest,CDR product discovery,legacy_only 100..50000,products,lossy_forbidden,CDR index/detail tasks must enumerate all discovered products; any operational throttle must resume with continuation state rather than slice product ids.,Product-level truncation directly violates the project goal.,workers/api/src/queue/consumer.ts
api.ingest.cdr_page_limit_runtime,workers/api,ingest,CDR index pagination,runtime continuation up to Number.MAX_SAFE_INTEGER,pages,continuation_throttle,"Paginate until exhaustion or runtime budget, then resume from saved continuation state.",Page limits are only acceptable when no pages are omitted.,workers/api/src/queue/consumer.ts
api.ingest.seed_fallback_count,workers/api,ingest,HTML fallback seeds,2,urls,lossy_forbidden,Fallback collection should keep seed discovery/history separately and expand or continue rather than stop at a fixed seed count when CDR is unavailable.,Fallback coverage should not be silently constrained by a tiny seed list.,workers/api/src/queue/consumer.ts
api.backfill.snapshots_per_month_clamp,workers/api,historical,Wayback month coverage,1..3,snapshots,lossy_forbidden,Historical collection should queue continuation work until all useful monthly snapshots are explored.,Month-level snapshot caps can omit legitimate historical evidence.,workers/api/src/pipeline/bootstrap-jobs.ts
api.public.historical_max_days,workers/api,historical,public manual historical pull request,30,days,abuse_guardrail,Large public requests should use async job orchestration rather than fail open-ended synchronous requests.,User-triggered range limits are acceptable when broader async paths exist.,workers/api/wrangler.toml
api.validation.home_rate_percent,workers/api,validation,home-loan normalization,0..100,%,continuation_throttle,"Store broad structurally plausible values, classify anomalies separately, and let trusted views apply narrower consumer filters.",Write-time validation should avoid dropping unusual but parseable rows.,workers/api/src/ingest/normalize.ts
api.validation.home_comparison_rate_percent,workers/api,validation,home-loan normalization,0..100,%,continuation_throttle,Outlier comparison rates are retained for later analyst review unless structurally invalid.,Historical truth is more important than enforcing consumer-safe display ranges at ingest time.,workers/api/src/ingest/normalize.ts
api.validation.annual_fee,workers/api,validation,home-loan normalization,0..1000000,AUD,continuation_throttle,Very large fees remain ingestible and can be filtered in trusted views.,Outlier fee values should not be silently discarded.,workers/api/src/ingest/normalize.ts
api.validation.savings_td_rate_percent,workers/api,validation,savings and term-deposit normalization,0..100,%,continuation_throttle,Broad rates are stored; consumer routes can still default to trusted ranges.,Write-time rejection of unusual savings/TD rates is lossy.,workers/api/src/ingest/normalize-savings.ts
api.validation.td_term_months,workers/api,validation,term-deposit normalization,1..1200,months,continuation_throttle,Only structurally impossible term lengths are rejected; long durations remain ingestible.,The old 120-month cap could omit legitimate long-maturity products.,workers/api/src/ingest/normalize-savings.ts
api.validation.collection_date,workers/api,validation,all ingest rows,1990-01-01..today+1d,date,continuation_throttle,Invalid dates are still hard rejects because they break longitudinal indexing.,"This is a structural integrity guardrail, not a quality clamp.",workers/api/src/ingest/validate-common.ts
api.query.page_size_max,workers/api,query,paginated list endpoints,1000,rows per page,continuation_throttle,Clients page through all results instead of relying on a single oversized response.,Per-page sizing is safe when the next page remains accessible.,workers/api/src/db/queries.ts
api.query.latest_limit_max,workers/api,query,latest endpoints,1000,rows,abuse_guardrail,Analyst exports and paginated list endpoints provide full retrieval when current latest views exceed synchronous caps.,Synchronous latest lists can stay bounded if full retrieval exists elsewhere.,workers/api/src/db/queries.ts
api.query.timeseries_page_size,workers/api,query,timeseries endpoints,1000,rows per page,continuation_throttle,Use cursor pagination to traverse the full series without truncation.,Timeseries access is non-lossy as long as cursors continue the series.,workers/api/src/routes/public.ts
api.query.export_max_rows_sync,workers/api,query,legacy synchronous export endpoints,10000,rows,abuse_guardrail,Use `POST /exports` plus artifact download routes for complete public exports.,"Legacy sync exports remain for compatibility, but full retrieval must use async export jobs.",workers/api/src/db/queries.ts
api.admin.db_rows_limit,workers/api,admin,admin diagnostics table previews,1..500,rows,abuse_guardrail,Admin previews stay bounded; deep retrieval should use targeted queries or exports.,Operational admin pages do not need unbounded synchronous dumps.,workers/api/src/routes/admin-db.ts
api.logs.query_limit_max,workers/api,logging,system log downloads,10000,rows,abuse_guardrail,Bound synchronous log pulls and rely on repeated paging or download-specific tooling for deeper audits.,"Log browsing is operational, not part of the canonical rate history.",workers/api/src/utils/logger.ts
site.pivot.page_fetch_size,site,frontend,pivot data loading,1000,rows per API page,continuation_throttle,"The browser fetches all pages sequentially instead of stopping at 10,000 rows.",Frontend convenience must not cap analyst retrieval scope.,site/ar-pivot.js
site.chart.max_points,site,frontend,interactive chart rendering,1000,points rendered,ui_guardrail,"Fetch the full filtered dataset, render a sampled chart when dense, and direct users to full export artifacts for complete retrieval.",UI responsiveness is a valid constraint only if the full dataset remains retrievable.,site/ar-charts.js
site.client_log.queue_max,site,frontend,browser log buffer,500,entries,ui_guardrail,"Old client logs may roll off locally, but canonical server-side diagnostics remain durable.","Frontend log buffers are convenience features, not source-of-truth archives.",site/ar-utils.js
archive.discovery.fetch_timeout_ms,workers/archive,discovery,register fetch attempt,20000,ms,continuation_throttle,Retries and subsequent scheduled runs preserve discovery continuity when a single attempt times out.,Timeouts are acceptable if failed attempts remain observable and retryable.,workers/archive/src/discovery.ts
archive.discovery.max_retries_per_url,workers/archive,discovery,register fetch retry policy,3,attempts,continuation_throttle,Each failed attempt should be recorded in append-only discovery history and retried later if still unresolved.,Retry counts are fine when they do not erase failure evidence.,workers/archive/src/discovery.ts
archive.discovery.failure_payload_max_chars,workers/archive,discovery,failure payload storage,50000,chars,lossy_forbidden,Persist full failure payloads to object storage and only truncate UI previews if needed.,Truncated failure bodies can hide the exact cause of discovery regressions.,workers/archive/src/discovery.ts
archive.admin.endpoints_limit_max,workers/archive,admin,archive admin endpoint list,1000,rows,abuse_guardrail,Use paging or targeted filters for large admin result sets.,Operational admin screens can stay bounded.,workers/archive/src/index.ts
